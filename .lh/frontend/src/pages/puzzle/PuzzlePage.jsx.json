{
    "sourceFile": "frontend/src/pages/puzzle/PuzzlePage.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 7,
            "patches": [
                {
                    "date": 1738757086115,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1738757736064,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -59,5 +59,5 @@\n     </div>\r\n   );\r\n };\r\n \r\n-export default PuzzlePage;\n\\ No newline at end of file\n+export default PuzzlePage;\r\n"
                },
                {
                    "date": 1738759441799,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,32 +1,16 @@\n import { useState } from \"react\";\r\n import { useNavigate } from \"react-router-dom\";\r\n \r\n const PuzzlePage = () => {\r\n-  const [email, setEmail] = useState(\"\");\r\n   const [puzzleAnswer, setPuzzleAnswer] = useState(\"\");\r\n   const [message, setMessage] = useState(\"\");\r\n   const navigate = useNavigate();\r\n \r\n   const handleSubmit = async (e) => {\r\n     e.preventDefault();\r\n     if (puzzleAnswer === \"4\") { // Correct answer for \"What is 2 + 2?\"\r\n-      // Send email verification\r\n-      const response = await fetch('/verify-email', {\r\n-        method: 'POST',\r\n-        headers: {\r\n-          'Content-Type': 'application/json',\r\n-        },\r\n-        body: JSON.stringify({ email }),\r\n-      });\r\n-\r\n-      const data = await response.json();\r\n-      if (response.ok) {\r\n-        setMessage(\"Your password is now up to date! Please check your email.\");\r\n-        navigate(\"/login\"); // Redirect to login after successful verification\r\n-      } else {\r\n-        setMessage(data.message);\r\n-      }\r\n+      navigate(\"/reset-password\"); // Redirect to password reset form\r\n     } else {\r\n       setMessage(\"Incorrect answer. Please try again.\");\r\n     }\r\n   };\r\n@@ -35,17 +19,8 @@\n     <div className=\"flex flex-col items-center justify-center min-w-96 mx-auto\">\r\n       <h1 className=\"text-center\">Solve the Puzzle</h1>\r\n       <form onSubmit={handleSubmit}>\r\n         <div>\r\n-          <label>Email:</label>\r\n-          <input\r\n-            type=\"email\"\r\n-            value={email}\r\n-            onChange={(e) => setEmail(e.target.value)}\r\n-            required\r\n-          />\r\n-        </div>\r\n-        <div>\r\n           <label>Solve this puzzle: What is 2 + 2?</label>\r\n           <input\r\n             type=\"text\"\r\n             value={puzzleAnswer}\r\n"
                },
                {
                    "date": 1738759618675,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,16 +1,32 @@\n import { useState } from \"react\";\r\n import { useNavigate } from \"react-router-dom\";\r\n \r\n const PuzzlePage = () => {\r\n+  const [email, setEmail] = useState(\"\");\r\n   const [puzzleAnswer, setPuzzleAnswer] = useState(\"\");\r\n   const [message, setMessage] = useState(\"\");\r\n   const navigate = useNavigate();\r\n \r\n   const handleSubmit = async (e) => {\r\n     e.preventDefault();\r\n     if (puzzleAnswer === \"4\") { // Correct answer for \"What is 2 + 2?\"\r\n-      navigate(\"/reset-password\"); // Redirect to password reset form\r\n+      // Send email verification\r\n+      const response = await fetch('/verify-email', {\r\n+        method: 'POST',\r\n+        headers: {\r\n+          'Content-Type': 'application/json',\r\n+        },\r\n+        body: JSON.stringify({ email }),\r\n+      });\r\n+\r\n+      const data = await response.json();\r\n+      if (response.ok) {\r\n+        setMessage(\"Your password is now up to date! Please check your email.\");\r\n+        navigate(\"/login\"); // Redirect to login after successful verification\r\n+      } else {\r\n+        setMessage(data.message);\r\n+      }\r\n     } else {\r\n       setMessage(\"Incorrect answer. Please try again.\");\r\n     }\r\n   };\r\n@@ -19,8 +35,17 @@\n     <div className=\"flex flex-col items-center justify-center min-w-96 mx-auto\">\r\n       <h1 className=\"text-center\">Solve the Puzzle</h1>\r\n       <form onSubmit={handleSubmit}>\r\n         <div>\r\n+          <label>Email:</label>\r\n+          <input\r\n+            type=\"email\"\r\n+            value={email}\r\n+            onChange={(e) => setEmail(e.target.value)}\r\n+            required\r\n+          />\r\n+        </div>\r\n+        <div>\r\n           <label>Solve this puzzle: What is 2 + 2?</label>\r\n           <input\r\n             type=\"text\"\r\n             value={puzzleAnswer}\r\n"
                },
                {
                    "date": 1738759638568,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,32 +1,16 @@\n import { useState } from \"react\";\r\n import { useNavigate } from \"react-router-dom\";\r\n \r\n const PuzzlePage = () => {\r\n-  const [email, setEmail] = useState(\"\");\r\n   const [puzzleAnswer, setPuzzleAnswer] = useState(\"\");\r\n   const [message, setMessage] = useState(\"\");\r\n   const navigate = useNavigate();\r\n \r\n   const handleSubmit = async (e) => {\r\n     e.preventDefault();\r\n     if (puzzleAnswer === \"4\") { // Correct answer for \"What is 2 + 2?\"\r\n-      // Send email verification\r\n-      const response = await fetch('/verify-email', {\r\n-        method: 'POST',\r\n-        headers: {\r\n-          'Content-Type': 'application/json',\r\n-        },\r\n-        body: JSON.stringify({ email }),\r\n-      });\r\n-\r\n-      const data = await response.json();\r\n-      if (response.ok) {\r\n-        setMessage(\"Your password is now up to date! Please check your email.\");\r\n-        navigate(\"/login\"); // Redirect to login after successful verification\r\n-      } else {\r\n-        setMessage(data.message);\r\n-      }\r\n+      navigate(\"/reset-password\"); // Redirect to password reset form\r\n     } else {\r\n       setMessage(\"Incorrect answer. Please try again.\");\r\n     }\r\n   };\r\n@@ -35,17 +19,8 @@\n     <div className=\"flex flex-col items-center justify-center min-w-96 mx-auto\">\r\n       <h1 className=\"text-center\">Solve the Puzzle</h1>\r\n       <form onSubmit={handleSubmit}>\r\n         <div>\r\n-          <label>Email:</label>\r\n-          <input\r\n-            type=\"email\"\r\n-            value={email}\r\n-            onChange={(e) => setEmail(e.target.value)}\r\n-            required\r\n-          />\r\n-        </div>\r\n-        <div>\r\n           <label>Solve this puzzle: What is 2 + 2?</label>\r\n           <input\r\n             type=\"text\"\r\n             value={puzzleAnswer}\r\n"
                },
                {
                    "date": 1738759767511,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,16 +1,32 @@\n import { useState } from \"react\";\r\n import { useNavigate } from \"react-router-dom\";\r\n \r\n const PuzzlePage = () => {\r\n+  const [email, setEmail] = useState(\"\");\r\n   const [puzzleAnswer, setPuzzleAnswer] = useState(\"\");\r\n   const [message, setMessage] = useState(\"\");\r\n   const navigate = useNavigate();\r\n \r\n   const handleSubmit = async (e) => {\r\n     e.preventDefault();\r\n     if (puzzleAnswer === \"4\") { // Correct answer for \"What is 2 + 2?\"\r\n-      navigate(\"/reset-password\"); // Redirect to password reset form\r\n+      // Send email verification\r\n+      const response = await fetch('/verify-email', {\r\n+        method: 'POST',\r\n+        headers: {\r\n+          'Content-Type': 'application/json',\r\n+        },\r\n+        body: JSON.stringify({ email }),\r\n+      });\r\n+\r\n+      const data = await response.json();\r\n+      if (response.ok) {\r\n+        setMessage(\"Your password is now up to date! Please check your email.\");\r\n+        navigate(\"/login\"); // Redirect to login after successful verification\r\n+      } else {\r\n+        setMessage(data.message);\r\n+      }\r\n     } else {\r\n       setMessage(\"Incorrect answer. Please try again.\");\r\n     }\r\n   };\r\n@@ -19,8 +35,17 @@\n     <div className=\"flex flex-col items-center justify-center min-w-96 mx-auto\">\r\n       <h1 className=\"text-center\">Solve the Puzzle</h1>\r\n       <form onSubmit={handleSubmit}>\r\n         <div>\r\n+          <label>Email:</label>\r\n+          <input\r\n+            type=\"email\"\r\n+            value={email}\r\n+            onChange={(e) => setEmail(e.target.value)}\r\n+            required\r\n+          />\r\n+        </div>\r\n+        <div>\r\n           <label>Solve this puzzle: What is 2 + 2?</label>\r\n           <input\r\n             type=\"text\"\r\n             value={puzzleAnswer}\r\n"
                },
                {
                    "date": 1738759844461,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,32 +1,16 @@\n import { useState } from \"react\";\r\n import { useNavigate } from \"react-router-dom\";\r\n \r\n const PuzzlePage = () => {\r\n-  const [email, setEmail] = useState(\"\");\r\n   const [puzzleAnswer, setPuzzleAnswer] = useState(\"\");\r\n   const [message, setMessage] = useState(\"\");\r\n   const navigate = useNavigate();\r\n \r\n   const handleSubmit = async (e) => {\r\n     e.preventDefault();\r\n     if (puzzleAnswer === \"4\") { // Correct answer for \"What is 2 + 2?\"\r\n-      // Send email verification\r\n-      const response = await fetch('/verify-email', {\r\n-        method: 'POST',\r\n-        headers: {\r\n-          'Content-Type': 'application/json',\r\n-        },\r\n-        body: JSON.stringify({ email }),\r\n-      });\r\n-\r\n-      const data = await response.json();\r\n-      if (response.ok) {\r\n-        setMessage(\"Your password is now up to date! Please check your email.\");\r\n-        navigate(\"/login\"); // Redirect to login after successful verification\r\n-      } else {\r\n-        setMessage(data.message);\r\n-      }\r\n+      navigate(\"/reset-password\"); // Redirect to password reset form\r\n     } else {\r\n       setMessage(\"Incorrect answer. Please try again.\");\r\n     }\r\n   };\r\n@@ -35,17 +19,8 @@\n     <div className=\"flex flex-col items-center justify-center min-w-96 mx-auto\">\r\n       <h1 className=\"text-center\">Solve the Puzzle</h1>\r\n       <form onSubmit={handleSubmit}>\r\n         <div>\r\n-          <label>Email:</label>\r\n-          <input\r\n-            type=\"email\"\r\n-            value={email}\r\n-            onChange={(e) => setEmail(e.target.value)}\r\n-            required\r\n-          />\r\n-        </div>\r\n-        <div>\r\n           <label>Solve this puzzle: What is 2 + 2?</label>\r\n           <input\r\n             type=\"text\"\r\n             value={puzzleAnswer}\r\n@@ -59,5 +34,5 @@\n     </div>\r\n   );\r\n };\r\n \r\n-export default PuzzlePage;\r\n+export default PuzzlePage;\n\\ No newline at end of file\n"
                },
                {
                    "date": 1738759942925,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,16 +1,32 @@\n import { useState } from \"react\";\r\n import { useNavigate } from \"react-router-dom\";\r\n \r\n const PuzzlePage = () => {\r\n+  const [email, setEmail] = useState(\"\");\r\n   const [puzzleAnswer, setPuzzleAnswer] = useState(\"\");\r\n   const [message, setMessage] = useState(\"\");\r\n   const navigate = useNavigate();\r\n \r\n   const handleSubmit = async (e) => {\r\n     e.preventDefault();\r\n     if (puzzleAnswer === \"4\") { // Correct answer for \"What is 2 + 2?\"\r\n-      navigate(\"/reset-password\"); // Redirect to password reset form\r\n+      // Send email verification\r\n+      const response = await fetch('/verify-email', {\r\n+        method: 'POST',\r\n+        headers: {\r\n+          'Content-Type': 'application/json',\r\n+        },\r\n+        body: JSON.stringify({ email }),\r\n+      });\r\n+\r\n+      const data = await response.json();\r\n+      if (response.ok) {\r\n+        setMessage(\"Your password is now up to date! Please check your email.\");\r\n+        navigate(\"/login\"); // Redirect to login after successful verification\r\n+      } else {\r\n+        setMessage(data.message);\r\n+      }\r\n     } else {\r\n       setMessage(\"Incorrect answer. Please try again.\");\r\n     }\r\n   };\r\n@@ -19,8 +35,17 @@\n     <div className=\"flex flex-col items-center justify-center min-w-96 mx-auto\">\r\n       <h1 className=\"text-center\">Solve the Puzzle</h1>\r\n       <form onSubmit={handleSubmit}>\r\n         <div>\r\n+          <label>Email:</label>\r\n+          <input\r\n+            type=\"email\"\r\n+            value={email}\r\n+            onChange={(e) => setEmail(e.target.value)}\r\n+            required\r\n+          />\r\n+        </div>\r\n+        <div>\r\n           <label>Solve this puzzle: What is 2 + 2?</label>\r\n           <input\r\n             type=\"text\"\r\n             value={puzzleAnswer}\r\n@@ -34,5 +59,5 @@\n     </div>\r\n   );\r\n };\r\n \r\n-export default PuzzlePage;\n\\ No newline at end of file\n+export default PuzzlePage;\r\n"
                }
            ],
            "date": 1738757086115,
            "name": "Commit-0",
            "content": "import { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst PuzzlePage = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [puzzleAnswer, setPuzzleAnswer] = useState(\"\");\r\n  const [message, setMessage] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (puzzleAnswer === \"4\") { // Correct answer for \"What is 2 + 2?\"\r\n      // Send email verification\r\n      const response = await fetch('/verify-email', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ email }),\r\n      });\r\n\r\n      const data = await response.json();\r\n      if (response.ok) {\r\n        setMessage(\"Your password is now up to date! Please check your email.\");\r\n        navigate(\"/login\"); // Redirect to login after successful verification\r\n      } else {\r\n        setMessage(data.message);\r\n      }\r\n    } else {\r\n      setMessage(\"Incorrect answer. Please try again.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col items-center justify-center min-w-96 mx-auto\">\r\n      <h1 className=\"text-center\">Solve the Puzzle</h1>\r\n      <form onSubmit={handleSubmit}>\r\n        <div>\r\n          <label>Email:</label>\r\n          <input\r\n            type=\"email\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            required\r\n          />\r\n        </div>\r\n        <div>\r\n          <label>Solve this puzzle: What is 2 + 2?</label>\r\n          <input\r\n            type=\"text\"\r\n            value={puzzleAnswer}\r\n            onChange={(e) => setPuzzleAnswer(e.target.value)}\r\n            required\r\n          />\r\n        </div>\r\n        <button type=\"submit\">Submit</button>\r\n      </form>\r\n      {message && <p>{message}</p>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PuzzlePage;"
        }
    ]
}