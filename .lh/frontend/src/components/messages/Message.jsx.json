{
    "sourceFile": "frontend/src/components/messages/Message.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 43,
            "patches": [
                {
                    "date": 1738649894343,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1738650223671,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,18 +1,22 @@\n+import useSetMessages from \"../../../hooks/useSetMessages\";\r\n+\r\n const Message = () => {\r\n-  const {messages, loading} = useSetMessages();\r\n- console.log('messages', messages); \r\n+  const { messages, loading } = useSetMessages();\r\n+  console.log(\"messages\", messages); \r\n+\r\n   return (\r\n     <div className=\"chat chat-end\">\r\n       <div className=\"chat-image avatar\">\r\n         <div className=\"w-10 rounded-full\">\r\n           <img\r\n-            src={\"https://cdn0.iconfinder.com/data/icons/communication-line-10/24/account_profile_user_contact_person_avatar_placeholder-512.png\"}\r\n+            src=\"https://cdn0.iconfinder.com/data/icons/communication-line-10/24/account_profile_user_contact_person_avatar_placeholder-512.png\"\r\n+            alt=\"User Avatar\"\r\n           />\r\n         </div>\r\n       </div>\r\n-      <div className={'chat-bubble text-white bg-gray-700'}>Hi! </div>\r\n-      <div className='chat-footer opacity-50 text-xs flex gap-1 items-center'>10:17</div>\r\n+      <div className=\"chat-bubble text-white bg-gray-700\">Hi!</div>\r\n+      <div className=\"chat-footer opacity-50 text-xs flex gap-1 items-center\">10:17</div>\r\n     </div>\r\n   );\r\n };\r\n \r\n"
                },
                {
                    "date": 1738650395694,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,5 @@\n-import useSetMessages from \"../../../hooks/useSetMessages\";\r\n+import useSetMessages from '../../../hooks/useSendMessage.js';\r\n \r\n const Message = () => {\r\n   const { messages, loading } = useSetMessages();\r\n   console.log(\"messages\", messages); \r\n"
                },
                {
                    "date": 1738650807323,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,12 +1,14 @@\n-import useSetMessages from '../../../hooks/useSendMessage.js';\r\n+import useSendMessage from '../../../hooks/useSendMessage.js';\r\n \r\n const Message = () => {\r\n-  const { messages, loading } = useSetMessages();\r\n-  console.log(\"messages\", messages); \r\n+  const { messages, loading } = useSendMessage();\r\n \r\n+  console.log(\"messages\", messages); // Now messages should not be undefined\r\n+\r\n   return (\r\n-    <div className=\"chat chat-end\">\r\n+    <div>\r\n+      <div className=\"chat chat-end\">\r\n       <div className=\"chat-image avatar\">\r\n         <div className=\"w-10 rounded-full\">\r\n           <img\r\n             src=\"https://cdn0.iconfinder.com/data/icons/communication-line-10/24/account_profile_user_contact_person_avatar_placeholder-512.png\"\r\n@@ -15,9 +17,19 @@\n         </div>\r\n       </div>\r\n       <div className=\"chat-bubble text-white bg-gray-700\">Hi!</div>\r\n       <div className=\"chat-footer opacity-50 text-xs flex gap-1 items-center\">10:17</div>\r\n+      {loading ? <p>Loading messages...</p> : <p>Messages loaded</p>}\r\n     </div>\r\n+\r\n+    </div>\r\n   );\r\n };\r\n \r\n+\r\n export default Message;\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n"
                },
                {
                    "date": 1738650826038,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,5 @@\n-import useSendMessage from '../../../hooks/useSendMessage.js';\r\n+import useSendMessage from \"../../../hooks/useSendMessage.js\";\r\n \r\n const Message = () => {\r\n   const { messages, loading } = useSendMessage();\r\n \r\n@@ -7,29 +7,23 @@\n \r\n   return (\r\n     <div>\r\n       <div className=\"chat chat-end\">\r\n-      <div className=\"chat-image avatar\">\r\n-        <div className=\"w-10 rounded-full\">\r\n-          <img\r\n-            src=\"https://cdn0.iconfinder.com/data/icons/communication-line-10/24/account_profile_user_contact_person_avatar_placeholder-512.png\"\r\n-            alt=\"User Avatar\"\r\n-          />\r\n+        <div className=\"chat-image avatar\">\r\n+          <div className=\"w-10 rounded-full\">\r\n+            <img\r\n+              src=\"https://cdn0.iconfinder.com/data/icons/communication-line-10/24/account_profile_user_contact_person_avatar_placeholder-512.png\"\r\n+              alt=\"User Avatar\"\r\n+            />\r\n+          </div>\r\n         </div>\r\n+        <div className=\"chat-bubble text-white bg-gray-700\">Hi!</div>\r\n+        <div className=\"chat-footer opacity-50 text-xs flex gap-1 items-center\">\r\n+          10:17\r\n+        </div>\r\n+        {loading ? <p>Loading messages...</p> : <p>Messages loaded</p>}\r\n       </div>\r\n-      <div className=\"chat-bubble text-white bg-gray-700\">Hi!</div>\r\n-      <div className=\"chat-footer opacity-50 text-xs flex gap-1 items-center\">10:17</div>\r\n-      {loading ? <p>Loading messages...</p> : <p>Messages loaded</p>}\r\n     </div>\r\n-\r\n-    </div>\r\n   );\r\n };\r\n \r\n-\r\n export default Message;\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n"
                },
                {
                    "date": 1738650987103,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,9 +19,9 @@\n         <div className=\"chat-bubble text-white bg-gray-700\">Hi!</div>\r\n         <div className=\"chat-footer opacity-50 text-xs flex gap-1 items-center\">\r\n           10:17\r\n         </div>\r\n-        {loading ? <p>Loading messages...</p> : <p>Messages loaded</p>}\r\n+        {loading ? <p>Loading messages...</p> : ''}\r\n       </div>\r\n     </div>\r\n   );\r\n };\r\n"
                },
                {
                    "date": 1738651500732,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,27 +2,34 @@\n \r\n const Message = () => {\r\n   const { messages, loading } = useSendMessage();\r\n \r\n-  console.log(\"messages\", messages); // Now messages should not be undefined\r\n+  console.log(\"ðŸ“© Messages from hook:\", messages); // Debugging log\r\n \r\n   return (\r\n     <div>\r\n-      <div className=\"chat chat-end\">\r\n-        <div className=\"chat-image avatar\">\r\n-          <div className=\"w-10 rounded-full\">\r\n-            <img\r\n-              src=\"https://cdn0.iconfinder.com/data/icons/communication-line-10/24/account_profile_user_contact_person_avatar_placeholder-512.png\"\r\n-              alt=\"User Avatar\"\r\n-            />\r\n+      {loading && <p className=\"text-gray-400\">Sending message...</p>}\r\n+\r\n+      {messages.length > 0 ? (\r\n+        messages.map((msg) => (\r\n+          <div key={msg._id} className=\"chat chat-end\">\r\n+            <div className=\"chat-image avatar\">\r\n+              <div className=\"w-10 rounded-full\">\r\n+                <img\r\n+                  src=\"https://cdn0.iconfinder.com/data/icons/communication-line-10/24/account_profile_user_contact_person_avatar_placeholder-512.png\"\r\n+                  alt=\"User Avatar\"\r\n+                />\r\n+              </div>\r\n+            </div>\r\n+            <div className=\"chat-bubble text-white bg-gray-700\">{msg.message}</div>\r\n+            <div className=\"chat-footer opacity-50 text-xs flex gap-1 items-center\">\r\n+              {new Date(msg.createdAt).toLocaleTimeString()}\r\n+            </div>\r\n           </div>\r\n-        </div>\r\n-        <div className=\"chat-bubble text-white bg-gray-700\">Hi!</div>\r\n-        <div className=\"chat-footer opacity-50 text-xs flex gap-1 items-center\">\r\n-          10:17\r\n-        </div>\r\n-        {loading ? <p>Loading messages...</p> : ''}\r\n-      </div>\r\n+        ))\r\n+      ) : (\r\n+        <p className=\"text-gray-500\">No messages yet.</p>\r\n+      )}\r\n     </div>\r\n   );\r\n };\r\n \r\n"
                },
                {
                    "date": 1738651610378,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -26,9 +26,9 @@\n             </div>\r\n           </div>\r\n         ))\r\n       ) : (\r\n-        <p className=\"text-gray-500\">No messages yet.</p>\r\n+        <p className=\"text-gray-500\"></p>\r\n       )}\r\n     </div>\r\n   );\r\n };\r\n"
                },
                {
                    "date": 1738652426517,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -21,14 +21,14 @@\n               </div>\r\n             </div>\r\n             <div className=\"chat-bubble text-white bg-gray-700\">{msg.message}</div>\r\n             <div className=\"chat-footer opacity-50 text-xs flex gap-1 items-center\">\r\n-              {new Date(msg.createdAt).toLocaleTimeString()}\r\n+              {msg.createdAt ? new Date(msg.createdAt).toLocaleTimeString() : \"No Date\"}\r\n             </div>\r\n           </div>\r\n         ))\r\n       ) : (\r\n-        <p className=\"text-gray-500\"></p>\r\n+        <p className=\"text-gray-500\"></p> \r\n       )}\r\n     </div>\r\n   );\r\n };\r\n"
                },
                {
                    "date": 1738652517816,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,35 +1,16 @@\n-import useSendMessage from \"../../../hooks/useSendMessage.js\";\r\n-\r\n const Message = () => {\r\n-  const { messages, loading } = useSendMessage();\r\n-\r\n-  console.log(\"ðŸ“© Messages from hook:\", messages); // Debugging log\r\n-\r\n   return (\r\n-    <div>\r\n-      {loading && <p className=\"text-gray-400\">Sending message...</p>}\r\n-\r\n-      {messages.length > 0 ? (\r\n-        messages.map((msg) => (\r\n-          <div key={msg._id} className=\"chat chat-end\">\r\n-            <div className=\"chat-image avatar\">\r\n-              <div className=\"w-10 rounded-full\">\r\n-                <img\r\n-                  src=\"https://cdn0.iconfinder.com/data/icons/communication-line-10/24/account_profile_user_contact_person_avatar_placeholder-512.png\"\r\n-                  alt=\"User Avatar\"\r\n-                />\r\n-              </div>\r\n-            </div>\r\n-            <div className=\"chat-bubble text-white bg-gray-700\">{msg.message}</div>\r\n-            <div className=\"chat-footer opacity-50 text-xs flex gap-1 items-center\">\r\n-              {msg.createdAt ? new Date(msg.createdAt).toLocaleTimeString() : \"No Date\"}\r\n-            </div>\r\n-          </div>\r\n-        ))\r\n-      ) : (\r\n-        <p className=\"text-gray-500\"></p> \r\n-      )}\r\n+    <div className=\"chat chat-end\">\r\n+      <div className=\"chat-image avatar\">\r\n+        <div className=\"w-10 rounded-full\">\r\n+          <img\r\n+            src={\"https://cdn0.iconfinder.com/data/icons/communication-line-10/24/account_profile_user_contact_person_avatar_placeholder-512.png\"}\r\n+          />\r\n+        </div>\r\n+      </div>\r\n+      <div className={'chat-bubble text-white bg-gray-700'}>Hi! </div>\r\n+      <div className='chat-footer opacity-50 text-xs flex gap-1 items-center'>10:17</div>\r\n     </div>\r\n   );\r\n };\r\n \r\n"
                },
                {
                    "date": 1738654784637,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,15 +1,16 @@\n-const Message = () => {\r\n+const Message = ({ message }) => {\r\n   return (\r\n     <div className=\"chat chat-end\">\r\n       <div className=\"chat-image avatar\">\r\n         <div className=\"w-10 rounded-full\">\r\n           <img\r\n             src={\"https://cdn0.iconfinder.com/data/icons/communication-line-10/24/account_profile_user_contact_person_avatar_placeholder-512.png\"}\r\n+            alt=\"User Avatar\"\r\n           />\r\n         </div>\r\n       </div>\r\n-      <div className={'chat-bubble text-white bg-gray-700'}>Hi! </div>\r\n+      <div className={'chat-bubble text-white bg-gray-700'}>{message}</div> {/* Display the message dynamically */}\r\n       <div className='chat-footer opacity-50 text-xs flex gap-1 items-center'>10:17</div>\r\n     </div>\r\n   );\r\n };\r\n"
                },
                {
                    "date": 1738654859361,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,16 +1,15 @@\n-const Message = ({ message }) => {\r\n+const Message = () => {\r\n   return (\r\n     <div className=\"chat chat-end\">\r\n       <div className=\"chat-image avatar\">\r\n         <div className=\"w-10 rounded-full\">\r\n           <img\r\n             src={\"https://cdn0.iconfinder.com/data/icons/communication-line-10/24/account_profile_user_contact_person_avatar_placeholder-512.png\"}\r\n-            alt=\"User Avatar\"\r\n           />\r\n         </div>\r\n       </div>\r\n-      <div className={'chat-bubble text-white bg-gray-700'}>{message}</div> {/* Display the message dynamically */}\r\n+      <div className={'chat-bubble text-white bg-gray-700'}>Hi! </div>\r\n       <div className='chat-footer opacity-50 text-xs flex gap-1 items-center'>10:17</div>\r\n     </div>\r\n   );\r\n };\r\n"
                },
                {
                    "date": 1738657697467,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,15 +1,26 @@\n-const Message = () => {\r\n+import { useAuthContext } from '../../context/AuthContext';\r\n+import useConversation from '../../zustand/useConversation';\r\n+\r\n+const Message = ({message}) => {\r\n+  const {authUser} = useAuthContext();\r\n+  const { selectedConversation } = useConversation()\r\n+  const fromMe = message.senderId === authUser._id;\r\n+  const chatClassName = fromMe ? 'chat-end' : 'chat-start';\r\n+  const profilePic = fromMe ? authUser.profilePic: selectedConversation?.profilePic;\r\n+  const bubbleBgColor = fromMe ? 'bg-red-700' : '';\r\n+\r\n+\r\n   return (\r\n-    <div className=\"chat chat-end\">\r\n+    <div className={`chat ${chatClassName}`}>\r\n       <div className=\"chat-image avatar\">\r\n         <div className=\"w-10 rounded-full\">\r\n           <img\r\n-            src={\"https://cdn0.iconfinder.com/data/icons/communication-line-10/24/account_profile_user_contact_person_avatar_placeholder-512.png\"}\r\n+            src={profilePic}\r\n           />\r\n         </div>\r\n       </div>\r\n-      <div className={'chat-bubble text-white bg-gray-700'}>Hi! </div>\r\n+      <div className={`chat-bubble text-white bg-gray-700 ${bubbleBgColor}`}>{message.message}</div>\r\n       <div className='chat-footer opacity-50 text-xs flex gap-1 items-center'>10:17</div>\r\n     </div>\r\n   );\r\n };\r\n"
                },
                {
                    "date": 1738661076042,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,26 +1,15 @@\n-import { useAuthContext } from '../../context/AuthContext';\r\n-import useConversation from '../../zustand/useConversation';\r\n-\r\n-const Message = ({message}) => {\r\n-  const {authUser} = useAuthContext();\r\n-  const { selectedConversation } = useConversation()\r\n-  const fromMe = message.senderId === authUser._id;\r\n-  const chatClassName = fromMe ? 'chat-end' : 'chat-start';\r\n-  const profilePic = fromMe ? authUser.profilePic: selectedConversation?.profilePic;\r\n-  const bubbleBgColor = fromMe ? 'bg-red-700' : '';\r\n-\r\n-\r\n+const Message = () => {\r\n   return (\r\n-    <div className={`chat ${chatClassName}`}>\r\n+    <div className=\"chat chat-end\">\r\n       <div className=\"chat-image avatar\">\r\n         <div className=\"w-10 rounded-full\">\r\n           <img\r\n-            src={profilePic}\r\n+            src={\"https://cdn0.iconfinder.com/data/icons/communication-line-10/24/account_profile_user_contact_person_avatar_placeholder-512.png\"}\r\n           />\r\n         </div>\r\n       </div>\r\n-      <div className={`chat-bubble text-white bg-gray-700 ${bubbleBgColor}`}>{message.message}</div>\r\n+      <div className={'chat-bubble text-white bg-gray-700'}>Hi! </div>\r\n       <div className='chat-footer opacity-50 text-xs flex gap-1 items-center'>10:17</div>\r\n     </div>\r\n   );\r\n };\r\n"
                },
                {
                    "date": 1738662220160,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,16 +1,21 @@\n-const Message = () => {\r\n+const Message = ({ message }) => {\r\n   return (\r\n     <div className=\"chat chat-end\">\r\n       <div className=\"chat-image avatar\">\r\n         <div className=\"w-10 rounded-full\">\r\n           <img\r\n             src={\"https://cdn0.iconfinder.com/data/icons/communication-line-10/24/account_profile_user_contact_person_avatar_placeholder-512.png\"}\r\n+            alt=\"User Avatar\"\r\n           />\r\n         </div>\r\n       </div>\r\n-      <div className={'chat-bubble text-white bg-gray-700'}>Hi! </div>\r\n-      <div className='chat-footer opacity-50 text-xs flex gap-1 items-center'>10:17</div>\r\n+      <div className=\"chat-bubble text-white bg-gray-700\">\r\n+        {message.text} {/* Assuming message.text contains the message content */}\r\n+      </div>\r\n+      <div className=\"chat-footer opacity-50 text-xs flex gap-1 items-center\">\r\n+        {new Date(message.createdAt).toLocaleTimeString()} {/* Format the message timestamp */}\r\n+      </div>\r\n     </div>\r\n   );\r\n };\r\n \r\n"
                },
                {
                    "date": 1738668623274,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,20 +1,33 @@\n const Message = ({ message }) => {\r\n   return (\r\n     <div className=\"chat chat-end\">\r\n-      <div className=\"chat-image avatar\">\r\n-        <div className=\"w-10 rounded-full\">\r\n-          <img\r\n-            src={\"https://cdn0.iconfinder.com/data/icons/communication-line-10/24/account_profile_user_contact_person_avatar_placeholder-512.png\"}\r\n-            alt=\"User Avatar\"\r\n-          />\r\n+      {/* Custom Avatar */}\r\n+      <div className=\"flex gap-2 items-center hover:bg-gray-800 rounded p-2 py-1 cursor-pointer\">\r\n+        <div className=\"avatar online\">\r\n+          <div className=\"w-12 h-12 rounded-full bg-gray-500\">\r\n+            <img \r\n+              src=\"https://robohash.org/54?set=set1&bgset=bg2\" \r\n+              alt=\"User Avatar\"\r\n+            />\r\n+          </div>\r\n         </div>\r\n+        <div className=\"flex flex-col flex-1\">\r\n+          <div className=\"flex gap-3 justify-between\">\r\n+            <p className=\"font-bold text-gray-200\">Ben</p>\r\n+            <span className=\"text-xl\">ðŸ‘¤</span>\r\n+          </div>\r\n+        </div>\r\n       </div>\r\n+\r\n+      {/* Message Bubble */}\r\n       <div className=\"chat-bubble text-white bg-gray-700\">\r\n-        {message.text} {/* Assuming message.text contains the message content */}\r\n+        {message.text}\r\n       </div>\r\n+\r\n+      {/* Timestamp */}\r\n       <div className=\"chat-footer opacity-50 text-xs flex gap-1 items-center\">\r\n-        {new Date(message.createdAt).toLocaleTimeString()} {/* Format the message timestamp */}\r\n+        {new Date(message.createdAt).toLocaleTimeString()}\r\n       </div>\r\n     </div>\r\n   );\r\n };\r\n"
                },
                {
                    "date": 1738669040590,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,7 @@\n const Message = ({ message }) => {\r\n+  console.log(\"Message received:\", message); // Debugging log\r\n+  \r\n   return (\r\n     <div className=\"chat chat-end\">\r\n       {/* Custom Avatar */}\r\n       <div className=\"flex gap-2 items-center hover:bg-gray-800 rounded p-2 py-1 cursor-pointer\">\r\n@@ -12,24 +14,30 @@\n           </div>\r\n         </div>\r\n         <div className=\"flex flex-col flex-1\">\r\n           <div className=\"flex gap-3 justify-between\">\r\n-            <p className=\"font-bold text-gray-200\">Ben</p>\r\n+            <p className=\"font-bold text-gray-200\">{message.text}</p>\r\n             <span className=\"text-xl\">ðŸ‘¤</span>\r\n           </div>\r\n         </div>\r\n       </div>\r\n \r\n-      {/* Message Bubble */}\r\n+      {/* Message Bubble (Check if text exists) */}\r\n       <div className=\"chat-bubble text-white bg-gray-700\">\r\n-        {message.text}\r\n+        {message?.text ? message.text : \"No message text\"}\r\n       </div>\r\n \r\n       {/* Timestamp */}\r\n       <div className=\"chat-footer opacity-50 text-xs flex gap-1 items-center\">\r\n-        {new Date(message.createdAt).toLocaleTimeString()}\r\n+        {message?.createdAt ? new Date(message.createdAt).toLocaleTimeString() : \"No timestamp\"}\r\n       </div>\r\n     </div>\r\n   );\r\n };\r\n \r\n export default Message;\r\n+\r\n+\r\n+\r\n+\r\n+\r\n+\r\n"
                },
                {
                    "date": 1738669088519,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,9 +22,9 @@\n       </div>\r\n \r\n       {/* Message Bubble (Check if text exists) */}\r\n       <div className=\"chat-bubble text-white bg-gray-700\">\r\n-        {message?.text ? message.text : \"No message text\"}\r\n+        {message?.text ? message.text : \"\"}\r\n       </div>\r\n \r\n       {/* Timestamp */}\r\n       <div className=\"chat-footer opacity-50 text-xs flex gap-1 items-center\">\r\n"
                },
                {
                    "date": 1738669337792,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n const Message = ({ message }) => {\r\n   console.log(\"Message received:\", message); // Debugging log\r\n-  \r\n+\r\n   return (\r\n     <div className=\"chat chat-end\">\r\n       {/* Custom Avatar */}\r\n       <div className=\"flex gap-2 items-center hover:bg-gray-800 rounded p-2 py-1 cursor-pointer\">\r\n@@ -20,11 +20,11 @@\n           </div>\r\n         </div>\r\n       </div>\r\n \r\n-      {/* Message Bubble (Check if text exists) */}\r\n+      {/* Message Bubble */}\r\n       <div className=\"chat-bubble text-white bg-gray-700\">\r\n-        {message?.text ? message.text : \"\"}\r\n+        {message?.text ? message.text : \"No message text\"}\r\n       </div>\r\n \r\n       {/* Timestamp */}\r\n       <div className=\"chat-footer opacity-50 text-xs flex gap-1 items-center\">\r\n@@ -34,10 +34,4 @@\n   );\r\n };\r\n \r\n export default Message;\r\n-\r\n-\r\n-\r\n-\r\n-\r\n-\r\n"
                },
                {
                    "date": 1738669488570,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,17 +14,17 @@\n           </div>\r\n         </div>\r\n         <div className=\"flex flex-col flex-1\">\r\n           <div className=\"flex gap-3 justify-between\">\r\n-            <p className=\"font-bold text-gray-200\">{message.text}</p>\r\n+            <p className=\"font-bold text-gray-200\">{message.message}</p> \r\n             <span className=\"text-xl\">ðŸ‘¤</span>\r\n           </div>\r\n         </div>\r\n       </div>\r\n \r\n       {/* Message Bubble */}\r\n       <div className=\"chat-bubble text-white bg-gray-700\">\r\n-        {message?.text ? message.text : \"No message text\"}\r\n+        {message?.message ? message.message : \"No message content\"}\r\n       </div>\r\n \r\n       {/* Timestamp */}\r\n       <div className=\"chat-footer opacity-50 text-xs flex gap-1 items-center\">\r\n"
                },
                {
                    "date": 1738669813457,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,24 +2,16 @@\n   console.log(\"Message received:\", message); // Debugging log\r\n \r\n   return (\r\n     <div className=\"chat chat-end\">\r\n-      {/* Custom Avatar */}\r\n-      <div className=\"flex gap-2 items-center hover:bg-gray-800 rounded p-2 py-1 cursor-pointer\">\r\n-        <div className=\"avatar online\">\r\n-          <div className=\"w-12 h-12 rounded-full bg-gray-500\">\r\n-            <img \r\n-              src=\"https://robohash.org/54?set=set1&bgset=bg2\" \r\n-              alt=\"User Avatar\"\r\n-            />\r\n-          </div>\r\n+      {/* Profile Image inside Chat */}\r\n+      <div className=\"chat-image avatar\">\r\n+        <div className=\"w-10 rounded-full\">\r\n+          <img \r\n+            src=\"https://robohash.org/54?set=set1&bgset=bg2\" \r\n+            alt=\"User Avatar\"\r\n+          />\r\n         </div>\r\n-        <div className=\"flex flex-col flex-1\">\r\n-          <div className=\"flex gap-3 justify-between\">\r\n-            <p className=\"font-bold text-gray-200\">{message.message}</p> \r\n-            <span className=\"text-xl\">ðŸ‘¤</span>\r\n-          </div>\r\n-        </div>\r\n       </div>\r\n \r\n       {/* Message Bubble */}\r\n       <div className=\"chat-bubble text-white bg-gray-700\">\r\n"
                },
                {
                    "date": 1738670739680,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,26 +1,31 @@\n const Message = ({ message }) => {\r\n   console.log(\"Message received:\", message); // Debugging log\r\n \r\n   return (\r\n-    <div className=\"chat chat-end\">\r\n-      {/* Profile Image inside Chat */}\r\n-      <div className=\"chat-image avatar\">\r\n-        <div className=\"w-10 rounded-full\">\r\n-          <img \r\n-            src=\"https://robohash.org/54?set=set1&bgset=bg2\" \r\n-            alt=\"User Avatar\"\r\n-          />\r\n+    <div className=\"chat chat-end flex flex-col items-end\">\r\n+      {/* Sender's Name */}\r\n+      <span className=\"text-xs text-gray-400 mb-1\">{message?.senderName || \"Unknown\"}</span>\r\n+\r\n+      <div className=\"flex items-end gap-2\">\r\n+        {/* Profile Image */}\r\n+        <div className=\"chat-image avatar\">\r\n+          <div className=\"w-10 rounded-full\">\r\n+            <img \r\n+              src=\"https://robohash.org/54?set=set1&bgset=bg2\" \r\n+              alt=\"User Avatar\"\r\n+            />\r\n+          </div>\r\n         </div>\r\n-      </div>\r\n \r\n-      {/* Message Bubble */}\r\n-      <div className=\"chat-bubble text-white bg-gray-700\">\r\n-        {message?.message ? message.message : \"No message content\"}\r\n+        {/* Message Bubble */}\r\n+        <div className=\"chat-bubble text-white bg-gray-700\">\r\n+          {message?.message ? message.message : \"No message content\"}\r\n+        </div>\r\n       </div>\r\n \r\n       {/* Timestamp */}\r\n-      <div className=\"chat-footer opacity-50 text-xs flex gap-1 items-center\">\r\n+      <div className=\"chat-footer opacity-50 text-xs text-gray-400 mt-1\">\r\n         {message?.createdAt ? new Date(message.createdAt).toLocaleTimeString() : \"No timestamp\"}\r\n       </div>\r\n     </div>\r\n   );\r\n"
                },
                {
                    "date": 1738670977538,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,11 +1,15 @@\n-const Message = ({ message }) => {\r\n+const Message = ({ message, currentUser }) => {\r\n   console.log(\"Message received:\", message); // Debugging log\r\n+  console.log(\"Current User:\", currentUser); // Debugging log\r\n \r\n+  // Show logged-in user's name if they sent the message\r\n+  const senderName = message.senderId === currentUser?.id ? currentUser.username : \"Unknown\";\r\n+\r\n   return (\r\n     <div className=\"chat chat-end flex flex-col items-end\">\r\n-      {/* Sender's Name */}\r\n-      <span className=\"text-xs text-gray-400 mb-1\">{message?.senderName || \"Unknown\"}</span>\r\n+      {/* Sender's Name (Logged-in user) */}\r\n+      <span className=\"text-xs text-gray-400 mb-1\">{senderName}</span>\r\n \r\n       <div className=\"flex items-end gap-2\">\r\n         {/* Profile Image */}\r\n         <div className=\"chat-image avatar\">\r\n"
                },
                {
                    "date": 1738671098162,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,35 +1,26 @@\n-const Message = ({ message, currentUser }) => {\r\n+const Message = ({ message }) => {\r\n   console.log(\"Message received:\", message); // Debugging log\r\n-  console.log(\"Current User:\", currentUser); // Debugging log\r\n \r\n-  // Show logged-in user's name if they sent the message\r\n-  const senderName = message.senderId === currentUser?.id ? currentUser.username : \"Unknown\";\r\n-\r\n   return (\r\n-    <div className=\"chat chat-end flex flex-col items-end\">\r\n-      {/* Sender's Name (Logged-in user) */}\r\n-      <span className=\"text-xs text-gray-400 mb-1\">{senderName}</span>\r\n-\r\n-      <div className=\"flex items-end gap-2\">\r\n-        {/* Profile Image */}\r\n-        <div className=\"chat-image avatar\">\r\n-          <div className=\"w-10 rounded-full\">\r\n-            <img \r\n-              src=\"https://robohash.org/54?set=set1&bgset=bg2\" \r\n-              alt=\"User Avatar\"\r\n-            />\r\n-          </div>\r\n+    <div className=\"chat chat-end\">\r\n+      {/* Profile Image inside Chat */}\r\n+      <div className=\"chat-image avatar\">\r\n+        <div className=\"w-10 rounded-full\">\r\n+          <img \r\n+            src=\"https://robohash.org/54?set=set1&bgset=bg2\" \r\n+            alt=\"User Avatar\"\r\n+          />\r\n         </div>\r\n+      </div>\r\n \r\n-        {/* Message Bubble */}\r\n-        <div className=\"chat-bubble text-white bg-gray-700\">\r\n-          {message?.message ? message.message : \"No message content\"}\r\n-        </div>\r\n+      {/* Message Bubble */}\r\n+      <div className=\"chat-bubble text-white bg-gray-700\">\r\n+        {message?.message ? message.message : \"No message content\"}\r\n       </div>\r\n \r\n       {/* Timestamp */}\r\n-      <div className=\"chat-footer opacity-50 text-xs text-gray-400 mt-1\">\r\n+      <div className=\"chat-footer opacity-50 text-xs flex gap-1 items-center\">\r\n         {message?.createdAt ? new Date(message.createdAt).toLocaleTimeString() : \"No timestamp\"}\r\n       </div>\r\n     </div>\r\n   );\r\n"
                },
                {
                    "date": 1738672246957,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,22 +1,29 @@\n+import { useAuthContext } from \"../../context/AuthContext\";\r\n+import useConversation from \"../../zustand/useConversation\";\r\n+\r\n const Message = ({ message }) => {\r\n+  const {authUser} = useAuthContext();\r\n+  const  {selectedConversation} = useConversation();\r\n+  const fromMe = message.senderId === authUser._id;\r\n+  const chatClassName = fromMe ? 'chat-end' : 'chat-start';\r\n+  const profilePic = fromMe ? authUser.profilePic : selectedConversation?.profilePic; \r\n+  const bubbleBgColor = fromMe ? 'bg-red-700' : \"\";\r\n+\r\n   console.log(\"Message received:\", message); // Debugging log\r\n \r\n   return (\r\n-    <div className=\"chat chat-end\">\r\n-      {/* Profile Image inside Chat */}\r\n+    <div className={`chat ${chatClassName}`}>\r\n       <div className=\"chat-image avatar\">\r\n         <div className=\"w-10 rounded-full\">\r\n-          <img \r\n-            src=\"https://robohash.org/54?set=set1&bgset=bg2\" \r\n-            alt=\"User Avatar\"\r\n+          <img alt='Tailwind CSS chat bubble component' src={profilePic}\r\n           />\r\n         </div>\r\n       </div>\r\n \r\n       {/* Message Bubble */}\r\n-      <div className=\"chat-bubble text-white bg-gray-700\">\r\n-        {message?.message ? message.message : \"No message content\"}\r\n+      <div className={`chat-bubble text-white bg-gray-700 ${bubbleBgColor}`}>\r\n+        {message.message}\r\n       </div>\r\n \r\n       {/* Timestamp */}\r\n       <div className=\"chat-footer opacity-50 text-xs flex gap-1 items-center\">\r\n"
                },
                {
                    "date": 1738672593574,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,33 +1,50 @@\n import { useAuthContext } from \"../../context/AuthContext\";\r\n import useConversation from \"../../zustand/useConversation\";\r\n \r\n const Message = ({ message }) => {\r\n-  const {authUser} = useAuthContext();\r\n-  const  {selectedConversation} = useConversation();\r\n+  const { authUser } = useAuthContext();\r\n+  const { selectedConversation } = useConversation();\r\n+\r\n+  // Check if the message is from the logged-in user\r\n   const fromMe = message.senderId === authUser._id;\r\n-  const chatClassName = fromMe ? 'chat-end' : 'chat-start';\r\n-  const profilePic = fromMe ? authUser.profilePic : selectedConversation?.profilePic; \r\n-  const bubbleBgColor = fromMe ? 'bg-red-700' : \"\";\r\n+  const chatClassName = fromMe ? \"chat-end\" : \"chat-start\";\r\n \r\n+  // Set profile picture dynamically\r\n+  const profilePic = fromMe ? authUser.profilePic : selectedConversation?.profilePic || \"/default-avatar.png\"; \r\n+\r\n+  // Set message bubble color\r\n+  const bubbleBgColor = fromMe ? \"bg-red-700\" : \"bg-gray-700\";\r\n+\r\n   console.log(\"Message received:\", message); // Debugging log\r\n \r\n   return (\r\n-    <div className={`chat ${chatClassName}`}>\r\n-      <div className=\"chat-image avatar\">\r\n-        <div className=\"w-10 rounded-full\">\r\n-          <img alt='Tailwind CSS chat bubble component' src={profilePic}\r\n-          />\r\n+    <div className={`chat ${chatClassName} flex flex-col items-${fromMe ? \"end\" : \"start\"}`}>\r\n+      {/* Sender's Name */}\r\n+      <span className=\"text-xs text-gray-400 mb-1\">\r\n+        {fromMe ? authUser.username : selectedConversation?.username || \"Unknown\"}\r\n+      </span>\r\n+\r\n+      <div className=\"flex items-end gap-2\">\r\n+        {/* Profile Image (Now Dynamic) */}\r\n+        <div className=\"chat-image avatar\">\r\n+          <div className=\"w-10 rounded-full\">\r\n+            <img \r\n+              src={profilePic} \r\n+              alt=\"User Avatar\" \r\n+              className=\"rounded-full\"\r\n+            />\r\n+          </div>\r\n         </div>\r\n-      </div>\r\n \r\n-      {/* Message Bubble */}\r\n-      <div className={`chat-bubble text-white bg-gray-700 ${bubbleBgColor}`}>\r\n-        {message.message}\r\n+        {/* Message Bubble */}\r\n+        <div className={`chat-bubble text-white ${bubbleBgColor}`}>\r\n+          {message.message}\r\n+        </div>\r\n       </div>\r\n \r\n       {/* Timestamp */}\r\n-      <div className=\"chat-footer opacity-50 text-xs flex gap-1 items-center\">\r\n+      <div className=\"chat-footer opacity-50 text-xs text-gray-400 mt-1\">\r\n         {message?.createdAt ? new Date(message.createdAt).toLocaleTimeString() : \"No timestamp\"}\r\n       </div>\r\n     </div>\r\n   );\r\n"
                },
                {
                    "date": 1738672859539,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -8,10 +8,10 @@\n   // Check if the message is from the logged-in user\r\n   const fromMe = message.senderId === authUser._id;\r\n   const chatClassName = fromMe ? \"chat-end\" : \"chat-start\";\r\n \r\n-  // Set profile picture dynamically\r\n-  const profilePic = fromMe ? authUser.profilePic : selectedConversation?.profilePic || \"/default-avatar.png\"; \r\n+  // Static Avatar URL for all users\r\n+  const avatarSrc = \"https://cdn0.iconfinder.com/data/icons/communication-line-10/24/account_profile_user_contact_person_avatar_placeholder-512.png\";\r\n \r\n   // Set message bubble color\r\n   const bubbleBgColor = fromMe ? \"bg-red-700\" : \"bg-gray-700\";\r\n \r\n@@ -24,13 +24,13 @@\n         {fromMe ? authUser.username : selectedConversation?.username || \"Unknown\"}\r\n       </span>\r\n \r\n       <div className=\"flex items-end gap-2\">\r\n-        {/* Profile Image (Now Dynamic) */}\r\n+        {/* Static Avatar Image */}\r\n         <div className=\"chat-image avatar\">\r\n           <div className=\"w-10 rounded-full\">\r\n             <img \r\n-              src={profilePic} \r\n+              src={avatarSrc} \r\n               alt=\"User Avatar\" \r\n               className=\"rounded-full\"\r\n             />\r\n           </div>\r\n"
                },
                {
                    "date": 1738673190045,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -18,15 +18,16 @@\n   console.log(\"Message received:\", message); // Debugging log\r\n \r\n   return (\r\n     <div className={`chat ${chatClassName} flex flex-col items-${fromMe ? \"end\" : \"start\"}`}>\r\n-      {/* Sender's Name */}\r\n-      <span className=\"text-xs text-gray-400 mb-1\">\r\n-        {fromMe ? authUser.username : selectedConversation?.username || \"Unknown\"}\r\n-      </span>\r\n+      {/* Sender's Name and Avatar */}\r\n+      <div className=\"flex flex-col items-center mb-2\">\r\n+        {/* Sender's Name */}\r\n+        <span className=\"text-xs text-gray-400 mb-1\">\r\n+          {fromMe ? authUser.username : selectedConversation?.username || \"Unknown\"}\r\n+        </span>\r\n \r\n-      <div className=\"flex items-end gap-2\">\r\n-        {/* Static Avatar Image */}\r\n+        {/* Avatar Image */}\r\n         <div className=\"chat-image avatar\">\r\n           <div className=\"w-10 rounded-full\">\r\n             <img \r\n               src={avatarSrc} \r\n@@ -34,13 +35,13 @@\n               className=\"rounded-full\"\r\n             />\r\n           </div>\r\n         </div>\r\n+      </div>\r\n \r\n-        {/* Message Bubble */}\r\n-        <div className={`chat-bubble text-white ${bubbleBgColor}`}>\r\n-          {message.message}\r\n-        </div>\r\n+      {/* Message Bubble */}\r\n+      <div className={`chat-bubble text-white ${bubbleBgColor}`}>\r\n+        {message.message}\r\n       </div>\r\n \r\n       {/* Timestamp */}\r\n       <div className=\"chat-footer opacity-50 text-xs text-gray-400 mt-1\">\r\n"
                },
                {
                    "date": 1738673892363,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -39,9 +39,10 @@\n       </div>\r\n \r\n       {/* Message Bubble */}\r\n       <div className={`chat-bubble text-white ${bubbleBgColor}`}>\r\n-        {message.message}\r\n+        {/* Display the actual message content */}\r\n+        {message?.message || \"No message content\"} {/* This ensures you display the actual message */}\r\n       </div>\r\n \r\n       {/* Timestamp */}\r\n       <div className=\"chat-footer opacity-50 text-xs text-gray-400 mt-1\">\r\n"
                },
                {
                    "date": 1738674901633,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,9 +17,9 @@\n \r\n   console.log(\"Message received:\", message); // Debugging log\r\n \r\n   return (\r\n-    <div className={`chat ${chatClassName} flex flex-col items-${fromMe ? \"end\" : \"start\"}`}>\r\n+    <div className={`chat ${chatClassName} flex ${fromMe ? \"justify-end\" : \"justify-start\"}`}>\r\n       {/* Sender's Name and Avatar */}\r\n       <div className=\"flex flex-col items-center mb-2\">\r\n         {/* Sender's Name */}\r\n         <span className=\"text-xs text-gray-400 mb-1\">\r\n"
                },
                {
                    "date": 1738675274537,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,9 +11,9 @@\n \r\n   // Static Avatar URL for all users\r\n   const avatarSrc = \"https://cdn0.iconfinder.com/data/icons/communication-line-10/24/account_profile_user_contact_person_avatar_placeholder-512.png\";\r\n \r\n-  // Set message bubble color\r\n+  // Set message bubble color based on sender or receiver\r\n   const bubbleBgColor = fromMe ? \"bg-red-700\" : \"bg-gray-700\";\r\n \r\n   console.log(\"Message received:\", message); // Debugging log\r\n \r\n"
                },
                {
                    "date": 1738675573121,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -40,9 +40,9 @@\n \r\n       {/* Message Bubble */}\r\n       <div className={`chat-bubble text-white ${bubbleBgColor}`}>\r\n         {/* Display the actual message content */}\r\n-        {message?.message || \"No message content\"} {/* This ensures you display the actual message */}\r\n+        {message.message} \r\n       </div>\r\n \r\n       {/* Timestamp */}\r\n       <div className=\"chat-footer opacity-50 text-xs text-gray-400 mt-1\">\r\n"
                },
                {
                    "date": 1738676072114,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,13 +11,11 @@\n \r\n   // Static Avatar URL for all users\r\n   const avatarSrc = \"https://cdn0.iconfinder.com/data/icons/communication-line-10/24/account_profile_user_contact_person_avatar_placeholder-512.png\";\r\n \r\n-  // Set message bubble color based on sender or receiver\r\n+  // Set message bubble color\r\n   const bubbleBgColor = fromMe ? \"bg-red-700\" : \"bg-gray-700\";\r\n \r\n-  console.log(\"Message received:\", message); // Debugging log\r\n-\r\n   return (\r\n     <div className={`chat ${chatClassName} flex ${fromMe ? \"justify-end\" : \"justify-start\"}`}>\r\n       {/* Sender's Name and Avatar */}\r\n       <div className=\"flex flex-col items-center mb-2\">\r\n@@ -40,9 +38,9 @@\n \r\n       {/* Message Bubble */}\r\n       <div className={`chat-bubble text-white ${bubbleBgColor}`}>\r\n         {/* Display the actual message content */}\r\n-        {message.message} \r\n+        {message?.message || \"No message content\"}\r\n       </div>\r\n \r\n       {/* Timestamp */}\r\n       <div className=\"chat-footer opacity-50 text-xs text-gray-400 mt-1\">\r\n"
                },
                {
                    "date": 1738676650427,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -38,9 +38,9 @@\n \r\n       {/* Message Bubble */}\r\n       <div className={`chat-bubble text-white ${bubbleBgColor}`}>\r\n         {/* Display the actual message content */}\r\n-        {message?.message || \"No message content\"}\r\n+        {message?.message || \"No message content\"} {/* This ensures you display the actual message */}\r\n       </div>\r\n \r\n       {/* Timestamp */}\r\n       <div className=\"chat-footer opacity-50 text-xs text-gray-400 mt-1\">\r\n"
                },
                {
                    "date": 1738676780565,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -38,9 +38,9 @@\n \r\n       {/* Message Bubble */}\r\n       <div className={`chat-bubble text-white ${bubbleBgColor}`}>\r\n         {/* Display the actual message content */}\r\n-        {message?.message || \"No message content\"} {/* This ensures you display the actual message */}\r\n+        {message.message}\r\n       </div>\r\n \r\n       {/* Timestamp */}\r\n       <div className=\"chat-footer opacity-50 text-xs text-gray-400 mt-1\">\r\n"
                },
                {
                    "date": 1738677287381,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -40,13 +40,9 @@\n       <div className={`chat-bubble text-white ${bubbleBgColor}`}>\r\n         {/* Display the actual message content */}\r\n         {message.message}\r\n       </div>\r\n-\r\n-      {/* Timestamp */}\r\n-      <div className=\"chat-footer opacity-50 text-xs text-gray-400 mt-1\">\r\n-        {message?.createdAt ? new Date(message.createdAt).toLocaleTimeString() : \"No timestamp\"}\r\n-      </div>\r\n+      <div className='chat-footer opacity-50 text-xs flex gap-1 items-center'></div>\r\n     </div>\r\n   );\r\n };\r\n \r\n"
                },
                {
                    "date": 1738680396285,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,13 +1,15 @@\n import { useAuthContext } from \"../../context/AuthContext\";\r\n import useConversation from \"../../zustand/useConversation\";\r\n+import { extractTime } from \"../../utils/extractTime'\";\r\n \r\n const Message = ({ message }) => {\r\n   const { authUser } = useAuthContext();\r\n   const { selectedConversation } = useConversation();\r\n \r\n   // Check if the message is from the logged-in user\r\n   const fromMe = message.senderId === authUser._id;\r\n+  const formattedTime = extractTime(message.createdAt);\r\n   const chatClassName = fromMe ? \"chat-end\" : \"chat-start\";\r\n \r\n   // Static Avatar URL for all users\r\n   const avatarSrc = \"https://cdn0.iconfinder.com/data/icons/communication-line-10/24/account_profile_user_contact_person_avatar_placeholder-512.png\";\r\n@@ -36,13 +38,13 @@\n         </div>\r\n       </div>\r\n \r\n       {/* Message Bubble */}\r\n-      <div className={`chat-bubble text-white ${bubbleBgColor}`}>\r\n+      <div className={`chat-bubble text-white ${bubbleBgColor} pb-2`}>\r\n         {/* Display the actual message content */}\r\n         {message.message}\r\n       </div>\r\n-      <div className='chat-footer opacity-50 text-xs flex gap-1 items-center'></div>\r\n+      <div className='chat-footer opacity-50 text-xs flex gap-1 items-center'>{formattedTime}</div>\r\n     </div>\r\n   );\r\n };\r\n \r\n"
                },
                {
                    "date": 1738680574718,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n import { useAuthContext } from \"../../context/AuthContext\";\r\n import useConversation from \"../../zustand/useConversation\";\r\n-import { extractTime } from \"../../utils/extractTime'\";\r\n+import  extractTime  from '../../utils/extractTime';\r\n \r\n const Message = ({ message }) => {\r\n   const { authUser } = useAuthContext();\r\n   const { selectedConversation } = useConversation();\r\n"
                },
                {
                    "date": 1738680796620,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,52 @@\n+import { useAuthContext } from \"../../context/AuthContext\";\r\n+import useConversation from \"../../zustand/useConversation\";\r\n+import extractTime from \"../../utils/extractTime.js\";\r\n+\r\n+\r\n+const Message = ({ message }) => {\r\n+  const { authUser } = useAuthContext();\r\n+  const { selectedConversation } = useConversation();\r\n+\r\n+  // Check if the message is from the logged-in user\r\n+  const fromMe = message.senderId === authUser._id;\r\n+  const formattedTime = extractTime(message.createdAt);\r\n+  const chatClassName = fromMe ? \"chat-end\" : \"chat-start\";\r\n+\r\n+  // Static Avatar URL for all users\r\n+  const avatarSrc = \"https://cdn0.iconfinder.com/data/icons/communication-line-10/24/account_profile_user_contact_person_avatar_placeholder-512.png\";\r\n+\r\n+  // Set message bubble color\r\n+  const bubbleBgColor = fromMe ? \"bg-red-700\" : \"bg-gray-700\";\r\n+\r\n+  return (\r\n+    <div className={`chat ${chatClassName} flex ${fromMe ? \"justify-end\" : \"justify-start\"}`}>\r\n+      {/* Sender's Name and Avatar */}\r\n+      <div className=\"flex flex-col items-center mb-2\">\r\n+        {/* Sender's Name */}\r\n+        <span className=\"text-xs text-gray-400 mb-1\">\r\n+          {fromMe ? authUser.username : selectedConversation?.username || \"Unknown\"}\r\n+        </span>\r\n+\r\n+        {/* Avatar Image */}\r\n+        <div className=\"chat-image avatar\">\r\n+          <div className=\"w-10 rounded-full\">\r\n+            <img \r\n+              src={avatarSrc} \r\n+              alt=\"User Avatar\" \r\n+              className=\"rounded-full\"\r\n+            />\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Message Bubble */}\r\n+      <div className={`chat-bubble text-white ${bubbleBgColor} pb-2`}>\r\n+        {/* Display the actual message content */}\r\n+        {message.message}\r\n+      </div>\r\n+      <div className='chat-footer opacity-50 text-xs flex gap-1 items-center'>{formattedTime}</div>\r\n+    </div>\r\n+  );\r\n+};\r\n+\r\n+export default Message;\r\n"
                },
                {
                    "date": 1738735798789,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,9 @@\n import { useAuthContext } from \"../../context/AuthContext\";\r\n import useConversation from \"../../zustand/useConversation\";\r\n import extractTime from \"../../utils/extractTime.js\";\r\n \r\n+const defaultAvatar = \"https://cdn.pixabay.com/photo/2021/09/04/05/24/portrait-6593229_960_720.jpg\";\r\n \r\n const Message = ({ message }) => {\r\n   const { authUser } = useAuthContext();\r\n   const { selectedConversation } = useConversation();\r\n@@ -11,10 +12,10 @@\n   const fromMe = message.senderId === authUser._id;\r\n   const formattedTime = extractTime(message.createdAt);\r\n   const chatClassName = fromMe ? \"chat-end\" : \"chat-start\";\r\n \r\n-  // Static Avatar URL for all users\r\n-  const avatarSrc = \"https://cdn0.iconfinder.com/data/icons/communication-line-10/24/account_profile_user_contact_person_avatar_placeholder-512.png\";\r\n+  // Get the avatar from selectedConversation\r\n+  const avatarSrc = selectedConversation?.profilePic || defaultAvatar;\r\n \r\n   // Set message bubble color\r\n   const bubbleBgColor = fromMe ? \"bg-red-700\" : \"bg-gray-700\";\r\n \r\n@@ -40,64 +41,12 @@\n       </div>\r\n \r\n       {/* Message Bubble */}\r\n       <div className={`chat-bubble text-white ${bubbleBgColor} pb-2`}>\r\n-        {/* Display the actual message content */}\r\n         {message.message}\r\n       </div>\r\n       <div className='chat-footer opacity-50 text-xs flex gap-1 items-center'>{formattedTime}</div>\r\n     </div>\r\n   );\r\n };\r\n \r\n export default Message;\r\n-import { useAuthContext } from \"../../context/AuthContext\";\r\n-import useConversation from \"../../zustand/useConversation\";\r\n-import  extractTime  from '../../utils/extractTime';\r\n-\r\n-const Message = ({ message }) => {\r\n-  const { authUser } = useAuthContext();\r\n-  const { selectedConversation } = useConversation();\r\n-\r\n-  // Check if the message is from the logged-in user\r\n-  const fromMe = message.senderId === authUser._id;\r\n-  const formattedTime = extractTime(message.createdAt);\r\n-  const chatClassName = fromMe ? \"chat-end\" : \"chat-start\";\r\n-\r\n-  // Static Avatar URL for all users\r\n-  const avatarSrc = \"https://cdn0.iconfinder.com/data/icons/communication-line-10/24/account_profile_user_contact_person_avatar_placeholder-512.png\";\r\n-\r\n-  // Set message bubble color\r\n-  const bubbleBgColor = fromMe ? \"bg-red-700\" : \"bg-gray-700\";\r\n-\r\n-  return (\r\n-    <div className={`chat ${chatClassName} flex ${fromMe ? \"justify-end\" : \"justify-start\"}`}>\r\n-      {/* Sender's Name and Avatar */}\r\n-      <div className=\"flex flex-col items-center mb-2\">\r\n-        {/* Sender's Name */}\r\n-        <span className=\"text-xs text-gray-400 mb-1\">\r\n-          {fromMe ? authUser.username : selectedConversation?.username || \"Unknown\"}\r\n-        </span>\r\n-\r\n-        {/* Avatar Image */}\r\n-        <div className=\"chat-image avatar\">\r\n-          <div className=\"w-10 rounded-full\">\r\n-            <img \r\n-              src={avatarSrc} \r\n-              alt=\"User Avatar\" \r\n-              className=\"rounded-full\"\r\n-            />\r\n-          </div>\r\n-        </div>\r\n-      </div>\r\n-\r\n-      {/* Message Bubble */}\r\n-      <div className={`chat-bubble text-white ${bubbleBgColor} pb-2`}>\r\n-        {/* Display the actual message content */}\r\n-        {message.message}\r\n-      </div>\r\n-      <div className='chat-footer opacity-50 text-xs flex gap-1 items-center'>{formattedTime}</div>\r\n-    </div>\r\n-  );\r\n-};\r\n-\r\n-export default Message;\r\n"
                },
                {
                    "date": 1738735962888,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,8 +3,21 @@\n import extractTime from \"../../utils/extractTime.js\";\r\n \r\n const defaultAvatar = \"https://cdn.pixabay.com/photo/2021/09/04/05/24/portrait-6593229_960_720.jpg\";\r\n \r\n+// Function to get the avatar based on profilePic and gender\r\n+const getAvatar = (conversation) => {\r\n+  if (conversation?.profilePic) {\r\n+    return conversation.profilePic;\r\n+  }\r\n+\r\n+  return conversation?.gender === \"male\"\r\n+    ? `https://robohash.org/${Math.floor(Math.random() * 10000)}?set=set1&bgset=bg2`\r\n+    : conversation?.gender === \"female\"\r\n+    ? `https://robohash.org/${Math.floor(Math.random() * 10000)}?set=set2&bgset=bg2`\r\n+    : defaultAvatar;\r\n+};\r\n+\r\n const Message = ({ message }) => {\r\n   const { authUser } = useAuthContext();\r\n   const { selectedConversation } = useConversation();\r\n \r\n@@ -12,10 +25,10 @@\n   const fromMe = message.senderId === authUser._id;\r\n   const formattedTime = extractTime(message.createdAt);\r\n   const chatClassName = fromMe ? \"chat-end\" : \"chat-start\";\r\n \r\n-  // Get the avatar from selectedConversation\r\n-  const avatarSrc = selectedConversation?.profilePic || defaultAvatar;\r\n+  // Get the avatar using the same logic as Conversation.jsx\r\n+  const avatarSrc = getAvatar(selectedConversation);\r\n \r\n   // Set message bubble color\r\n   const bubbleBgColor = fromMe ? \"bg-red-700\" : \"bg-gray-700\";\r\n \r\n"
                },
                {
                    "date": 1738843952856,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -20,29 +20,21 @@\n const Message = ({ message }) => {\r\n   const { authUser } = useAuthContext();\r\n   const { selectedConversation } = useConversation();\r\n \r\n-  // Check if the message is from the logged-in user\r\n   const fromMe = message.senderId === authUser._id;\r\n   const formattedTime = extractTime(message.createdAt);\r\n   const chatClassName = fromMe ? \"chat-end\" : \"chat-start\";\r\n \r\n-  // Get the avatar using the same logic as Conversation.jsx\r\n   const avatarSrc = getAvatar(selectedConversation);\r\n-\r\n-  // Set message bubble color\r\n   const bubbleBgColor = fromMe ? \"bg-red-700\" : \"bg-gray-700\";\r\n \r\n   return (\r\n     <div className={`chat ${chatClassName} flex ${fromMe ? \"justify-end\" : \"justify-start\"}`}>\r\n-      {/* Sender's Name and Avatar */}\r\n       <div className=\"flex flex-col items-center mb-2\">\r\n-        {/* Sender's Name */}\r\n         <span className=\"text-xs text-gray-400 mb-1\">\r\n           {fromMe ? authUser.username : selectedConversation?.username || \"Unknown\"}\r\n         </span>\r\n-\r\n-        {/* Avatar Image */}\r\n         <div className=\"chat-image avatar\">\r\n           <div className=\"w-10 rounded-full\">\r\n             <img \r\n               src={avatarSrc} \r\n@@ -51,15 +43,13 @@\n             />\r\n           </div>\r\n         </div>\r\n       </div>\r\n-\r\n-      {/* Message Bubble */}\r\n       <div className={`chat-bubble text-white ${bubbleBgColor} pb-2`}>\r\n         {message.message}\r\n       </div>\r\n       <div className='chat-footer opacity-50 text-xs flex gap-1 items-center'>{formattedTime}</div>\r\n     </div>\r\n   );\r\n };\r\n \r\n-export default Message;\r\n+export default Message;\n\\ No newline at end of file\n"
                },
                {
                    "date": 1738844005013,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -51,5 +51,5 @@\n     </div>\r\n   );\r\n };\r\n \r\n-export default Message;\n\\ No newline at end of file\n+export default Message;\r\n"
                },
                {
                    "date": 1738844788804,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,21 +1,16 @@\n import { useAuthContext } from \"../../context/AuthContext\";\r\n import useConversation from \"../../zustand/useConversation\";\r\n import extractTime from \"../../utils/extractTime.js\";\r\n \r\n-const defaultAvatar = \"https://cdn.pixabay.com/photo/2021/09/04/05/24/portrait-6593229_960_720.jpg\";\r\n-\r\n-// Function to get the avatar based on profilePic and gender\r\n const getAvatar = (conversation) => {\r\n   if (conversation?.profilePic) {\r\n     return conversation.profilePic;\r\n   }\r\n \r\n   return conversation?.gender === \"male\"\r\n     ? `https://robohash.org/${Math.floor(Math.random() * 10000)}?set=set1&bgset=bg2`\r\n-    : conversation?.gender === \"female\"\r\n-    ? `https://robohash.org/${Math.floor(Math.random() * 10000)}?set=set2&bgset=bg2`\r\n-    : defaultAvatar;\r\n+    : `https://robohash.org/${Math.floor(Math.random() * 10000)}?set=set2&bgset=bg2`;\r\n };\r\n \r\n const Message = ({ message }) => {\r\n   const { authUser } = useAuthContext();\r\n"
                }
            ],
            "date": 1738649894343,
            "name": "Commit-0",
            "content": "const Message = () => {\r\n  const {messages, loading} = useSetMessages();\r\n console.log('messages', messages); \r\n  return (\r\n    <div className=\"chat chat-end\">\r\n      <div className=\"chat-image avatar\">\r\n        <div className=\"w-10 rounded-full\">\r\n          <img\r\n            src={\"https://cdn0.iconfinder.com/data/icons/communication-line-10/24/account_profile_user_contact_person_avatar_placeholder-512.png\"}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className={'chat-bubble text-white bg-gray-700'}>Hi! </div>\r\n      <div className='chat-footer opacity-50 text-xs flex gap-1 items-center'>10:17</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Message;\r\n"
        }
    ]
}